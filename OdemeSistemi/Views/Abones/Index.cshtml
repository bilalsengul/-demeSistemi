@model IEnumerable<OdemeSistemi.Models.Abone>

@{
    ViewBag.Title = "Gise İslemleri";
}

<h2>Gişe İşlemleri</h2>
@if (ViewBag.error != null)
{
    <script type="text/javascript">
            window.onload = function () {
                alert("@ViewBag.error");
            };
    </script>
    Session["hata"] = null;
}
@if (TempData["iade"] != null)
{
    <script type="text/javascript">
        window.onload = function () {
            /**/
            alert("@TempData["iade"]");
        /**/
    };
    </script>
    TempData["iade"] = null;
}
<p>
    @Html.ActionLink("Abone Ekle", "Create", null, new { @class = "btn btn-primary " })
    @Html.ActionLink("Abone Ara", "Search", null, new { @class = "btn btn-primary " })

</p>
<table class="table">
    <tr>
        <th>
            @*@Html.DisplayNameFor("Gise Adı")*@
            @Html.Label("Gise Adı")
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Ad)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Soyad)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Numara)
        </th>
        <th>
            @Html.Label("Kullanıcı Türü")
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Depozito)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Borc)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.KullaniciAdi)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Sifre)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Gise.KullaniciAdi)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Ad)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Soyad)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Numara)
            </td>
            <td>

                @if (item.Tur == true)
                {
                    @Html.Label("Bireysel kullanıcı")
                }
                else
                {
                    @Html.Label("Tuzel kullanıcı")
                }
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Depozito)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Borc)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.KullaniciAdi)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Sifre)
            </td>
            <td>
                <a href=" @Url.Action("faturalar","faturas", new { id = item.Id })" class="btn btn-success">Faturaları Öde</a>

                @*@Html.ActionLink("Faturaları Öde", "Faturalar", "Faturas",null, new { id = item.Id }) |*@

                @Html.ActionLink("Aboneyi Sil ! ", "Delete", new { id = item.Id }, new { @class = "btn btn-danger " })
            </td>
        </tr>
    }

</table>
